<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>circle1</title>
  </head>
  <body>
    <canvas></canvas>
    <script>
    // angel calderaro
    const canvas = document.getElementsByTagName('canvas')[0]
    const ctx = canvas.getContext('2d')
    canvas.width = 300
    canvas.height = 300


    const circle = { x: 150, y: 150, r: 100 }
    let t = 1
    let lastPoint = {}

    function draw () {

      const point = {
        x: circle.r * Math.cos(t/200) + circle.x,
        y: circle.r * Math.sin(t/30) + circle.y,
      }

      if (!lastPoint.x) {
        console.log('init')
        lastPoint.x = point.x
        lastPoint.y = point.y
      }/* else if ( parseInt(lastPoint.x) === parseInt(point.x) && parseInt(lastPoint.y) === parseInt(point.y)) {
        t = 1
      }*/

      const text = 'X: ' + point.x.toFixed(2) + ' Y: ' + point.y.toFixed(2) + ' T: ' + t
      + ' OX: ' + lastPoint.x.toFixed(2)
      ctx.clearRect(0,287,300,300)
      ctx.fillText(text, 4, 295);
      ctx.fillRect(circle.x, circle.y, 5, 5)
      ctx.fillRect(point.x, point.y, 2, 2)
      t++
      requestAnimationFrame(draw);
    }

    requestAnimationFrame(draw);

    </script>
  </body>
</html>
